# Observer Pattern

## 옵저버 패턴(Observer Pattern)이란?

#### 옵저버 패턴(Observer Pattern)은 주로 데이터 변경을 자동으로 여러 객체에 반영해야 하는 상황에서 자주 사용된다. 이는 특히 MVC(Model-View-Controller) 아키텍처에서 데이터 모델과 뷰 간의 연결을 관리하는데 효과적이다.

### 옵저버 패턴(Observer Pattern)의 구조

1. **Subject(주체)** 
   - **책임** : 옵저버를 관리 하며, 상태 변화가 있을 때 옵저버들에게 알림을 보내는 역할
   - **구성요소** :
        - registerObserver(Observer o) : 옵저버들을 등록하는 메서드.
        - removeObserver(Observer o) : 옵저버를 제거 하는 메서드.
        - notifyObserver(Observer o) : 주체의 상태가 변경되었을 때 모든 옵저버들에게 알림을 보내는 메서드.
   - **상태 변경** : 주체의 상태가 변경되면 notifyObserver 를 호출해 모든 옵저버들에게 알림.

#### - 주체는 관심을 받는 객체로 자신의 상태가 변경되었을 때 등록된 옵저버들에게 이를 알릴 책임이 있으며 주체는 옵저버들을 저장하는 리스트 또는 컬렉션을 유지한다.

2. **Observer(옵저버)**
   - **책임** : 주체의 상태 변화를 감지하고 해당 변화에 반응하는 역할을 한다.
   - **구성요소** : 
        - update() : 주체의 상태가 변경되었을 때 호출되어 상태를 갱신하며 update 메서드는 주체가 제공하는 데이터를 받아서 필요한 작업을 수핼할 수 있다.
   - **구현 방식** : 일반적으로 옵저버는 인터페이스나 추상 클래스로 구현하며 다양한 형태의 옵저버가 존재할 수 있다.
   
#### - 옵저버들은 주체의 상태 변화를 관찰하고 필요에 따라 등록하거나 제거할 수 있으며 등록된 옵저버들은 주체에 의존적이 되어 주체의 상태 변화를 수신할 수 있게 된다.

3. **ConcreteSubject(구체적인 주제)**
    - **설명** : 주체 인터페이스를 구현한 구체 클래스이다. 예를 들어 뉴스 발행 시스템에서 NewsPublisher 가 ConcreteSubject 의 역할을 할 수 있다.
    - **책임** : 주체의 상태를 관리하고 상태가 변경될 때 옵저버들에게 알림을 보낸다.

#### - 주체의 상태가 변경되면 주체는 자신에게 등록된 모든 옵저버들에게 알림을 보내며 이 과정에서 옵저버들에게 업데이트 메서드를 호출하여 변화된 데이터를 전달하거나 변경되었음을 알린다.

4. **ConcreteObserver(구체적인 옵저버)**
    - **설명** : 옵저버 인터페이스를 구현한 구체 클래스이다. 예를 들어 NewsReader 가 ConcreteObserver 의 역할을 할 수 있다.
    - **책임** : 주체의 상태가 업데이트 되면 그에 맞게 동작을 수행한다.

#### - 알림을 받은 옵저버들은 업데이트 메서드를 통해 주체의 변화를 감지하고 이를 반옇하는 작업을 수행한다. 예를 들어 UI의 뷰를 갱신하거나 데이터베이스의 변경을 기록할 수 있다.

### 사용 사례

1. **이벤트 시스템** : GUI에서 버튼 클릭 등 사용자 입력에 반응할 때 여러 컴포넌트가 동시 반응
2. **데이터 변경 알림** : 데이터 모델이 변경되면 여러 뷰에 자동으로 업데이트 반영
3. **게시-구독 시스템** : 게시자가 이벤트를 발생시키면 구독자들이 자동으로 업데이트 받음

### 작동 방식



### 옵저버 패턴(Observer Pattern)의 장단점

### 장점
- **느슨한 결합** : 주체(Subject)와 옵저버가 직접적으로 의존하지 않아 코드 재사용성이 높음.
- **확장성** : 새로운 옵저버를 쉽게 추가할 수 있어 기능 확장이 용이함.
- **자동 업데이트** :  데이터 변경 시 옵저버들이 자동으로 업데이트를 받아 최신 상태를 유지.

### 단점 
- **성능 저하** : 옵저버가 많아지면 이벤트 발생 시 옵저버에게 알림을 보내기 때문에 성능이 저하될 수 있다.
- **복잡성 증가** : 옵저버 관리가 복잡해져 메모리 누수나 의도하지 않은 동작이 발생할 수 있다.
- **디버깅 어려움** : 다양한 객체 간의 상호작용으로 인해 오류 추적이 어려울 수 있다.

### 요약
옵저버 패턴은 데이터 동기화가 필요한 환경에서 매우 유용하지만 옵저버 수가 많아지면 성능과 복잡성 측면에서 주의가 필요하다.