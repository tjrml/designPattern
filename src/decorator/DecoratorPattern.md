# Decorator Pattern

## 데코레이터 패턴(Decorator Pattern)이란?
#### 데코레이터 패턴(Decorator Pattern)은 객체에 동적으로 새로운 기능을 추가하여 확장할수 있는 구조 패턴이다. 이 패턴은 상속을 통해 클래스를 확장하는 대신 객체를 감싸는 방식으로 여러 기능을 조합할 수 있어 확장성이 높으며, 특히 상속의 대안으로 자주 사용된다.


### 사용 사례
1. **객체에 여러 기능을 동적으로 추가해야 할 때**  
 런타임 시에 객체에 다양한 기능을 추가하거나 제거하고자 할 때 유리하다. 예를 들어 파일 입출력이나 스트림 처리와 같은 상황에서 각기 다른 동작을 가진 객체를 조합해 유연하게 활용할 수 있다.


2. **기능을 단계적으로 추가하거나 중첩해야 할 때**  
 데코레이터를 중첩하여 순차적으로 여러 기능을 적용할 수 있다. 예를 들어 텍스트 처리 과정에서 입력된 텍스트를 암호화하고, 압축한 뒤 파일에 저장하는 여러 단계의 작업을 데코레이터 패턴(Decorator Pattern)을 통해 유연하게 구성할 수 있다.


3. **상속의 대안을 찾고자 할 때**  
 상속을 이용하면 자식 클래스가 부모의 모든 기능을 무조건 물려받기 때문에, 불필요한 기능까지 포함할 수 있다. 데코레이터 패턴(Decorator Pattern)은 이러한 문제를 피하고, 필요할 때만 기능을 선택적으로 추가할 수 있는 장점을 가지고 있다.


4. **기능이 서로 독립적이거나 결합을 자유롭게 변경할 때**  
 기능들이 서로 독립적이어서 어떤 기능을 추가하거나 제거해도 다른 기능에 영향을 주지 않아야 할 때 유용한다. 예를 들어 게임 캐릭터의 능력을 강화하는 경우 여러 아이템을 통해 서로 다른 능력을 추가하거나 조합할 수 있다.

### 데코레이터 패턴(Decorator Pattern)의 작동 방식
데코레이터 패턴은 **기본 객체를 감싸는 방식**으로, 각 데코레이터가 동일한 인터페이스를 구현해 연쇄적으로 기능을 추가하는 구조를 가진다.

1. **기본 클래스** : 핵심 기능을 담고 있는 기본 객체(Concrete Component)이다.
2. **데코레이터 클래스** : 기본 객체와 동일한 인터페이스를 구현하며, 기본 객체를 포함(포장)하여 추가 기능을 제공한다.
3. **데코레이터 체인** : 여러 데코레이터가 겹겹이 쌓여서 기능을 중첩한다.

### 데코레이터 패턴(Decorator Pattern)의 장단점

### 장점
- **유연한 확장성**   
 새로운 기능을 추가하거나 기존 기능을 수정할 때 동적으로 기능을 추가하수 있어, 런타임 시 다양한 조합을 만들기 유리하다.


- **단일 책임 원칙(SRP) 준수**  
 기능을 독립적인 데코레이터로 분리하므로, 각 데코레이터는 특정한 기능만 담당하게 되어 코드의 응집도와 재사용성이 높아진다.


- **유지 보수성 향상**  
 기능추가나 수정이 필요한 경우, 기존 클래스를 수정하지 않고 새로운 데코레이터 클래스를 추가할 수 있어 코드 변경의 영향을 최소화 한다.

### 단점
- **복잡도 증가**  
 여러 데코레이터가 중첩되면 구조가 복잡해져 가독성이 떨어질 수 있으며, 디버깅도 어려워질 수 있다.


- **객체 수 증가**  
 데코레이터가 많아질수록 인스턴스가 많이 생성되므로, 메모리 사용량이 증가할 수 있다.


- **객체 생명 주기 관리가 어려움**
 다수의 데코레이터 인스턴스가 한 객체를 감쌀 경우, 이를 관리하기 위한 코드가 복잡해질 수 있으며, 메모리 누수 가능성도 높아진다. 

### 요약
데코레이터 패턴은 객체지향 프로그래밍에서 기능 확장성을 고려해야 할 때 유용하게 사용할 수 있는 패턴이다. 특히 상속의 대안으로 동적이고 유연한 구조가 필요 할 때 적합하며, 단일 책임 원칙(SRP)을 준수하면서 여러 기능을 독립적으로 추가하고 관리할 수 있다. 다만 데코레이터 패턴을 남용하면 코드의 복잡도와 관리 비용이 증가할 수 있으므로 필요에 따라 적절히 사용하는 것이 좋다.

  